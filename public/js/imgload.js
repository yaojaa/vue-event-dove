!function(a){a.fn.imgLoad=function(b){var c={attr:"data-src",container:a(window),callback:a.noop},d=a.extend({},c,b||{});d.cache=[],d.timer=null,a(this).each(function(){url=a(this).attr(d.attr);var b={obj:a(this),url:url};d.cache.push(b)});var e=function(){a.isFunction(d.callback)&&d.callback.apply(this,arguments)},f=function(){var b=d.container.height();contop=d.container.get(0)===window?a(window).scrollTop():d.container.offset().top,a.each(d.cache,function(a,c){var d,f,g=c.obj,h=c.url;g&&(d=parseInt(g.offset().top)-contop,f=d+g.height(),(d>=0&&b>d||f>0&&b>=f)&&(h?(g.attr("src",h),g.get(0).onload=function(){e(g.get(0),"success")},g.get(0).onerror=function(){e(g.get(0),"error")}):e(g,"error"),c.obj=null))})};f(),d.container.on("resize",f),d.container.on("scroll",function(){d.timer&&clearTimeout(timer),timer=setTimeout(f,20)})}}(jQuery);